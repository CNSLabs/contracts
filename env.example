# CNS deployment environment
# Copy to `.env` and update with real values before running scripts.

# ===========================
# Secrets (Never commit!)
# ===========================

# Hex-encoded private key used by forge script broadcasting (never commit the real key)
# Our deploy scripts use this PK for contract deployment
PRIVATE_KEY=

# REQUIRED: Private key for the TimelockController proposer address.
# Must correspond to the CNS_TIMELOCK_PROPOSER address if that address is overridden.
# Used for: scheduling L2 token contract upgrades
CNS_TIMELOCK_PROPOSER_PRIVATE_KEY=

# Optional: Address for DEFAULT_ADMIN_ROLE (governance/multisig address for production)
# This address controls role management and has backup access to operational roles
# RECOMMENDED: Gnosis Safe multisig (3-of-5 or 4-of-7 configuration)
# If not set, defaults to the env-specific config file value (l1.roles.admin or l2.roles.admin depending on which script)
CNS_DEFAULT_ADMIN=

# Optional: TimelockController proposer address
# If not set, defaults to the env-specific config file value (l2.timelock.proposers)
CNS_TIMELOCK_PROPOSER=

# Optional: Emergency pause/unpause address (defaults to CNS_DEFAULT_ADMIN)
# Can be a hot wallet for fast response, or another multisig
# If not set, defaults to the env-specific config file value (l2.roles.pauser)
CNS_PAUSER=

# Optional: Allowlist manager address (defaults to CNS_DEFAULT_ADMIN)
# Can be a hot wallet or automated backend address
# If not set, defaults to the env-specific config file value (l2.roles.allowlistAdmin)
CNS_ALLOWLIST_ADMIN=

# ===========================
# Token Configuration (Optional - have defaults)
# ===========================

# L2 token configuration (optional, only set to override defaults)
# Defaults: "Sho Token", "SHO", 18 decimals
L2_TOKEN_NAME=
L2_TOKEN_SYMBOL=
L2_TOKEN_DECIMALS=

# L1 token configuration (optional, only set to override defaults)
# Defaults: "Sho Token", "SHO"
L1_TOKEN_NAME=
L1_TOKEN_SYMBOL=

# ===========================
# Deployment Process
# ===========================
# The deployment script (2_DeployShoTokenL2.s.sol) will:
#
# 1. Deploy ShoTokenL2 implementation contract
# 2. Deploy ERC1967 proxy with atomic initialization
# 3. Assign roles based on environment variables
# 4. Setup sender allowlist with Hedgey addresses during initialization
# 5. Deploy TimelockController
# 6. Verify all deployments and configurations
#
# NOTE: Hedgey addresses (HEDGEY_BATCH_PLANNER, HEDGEY_TOKEN_VESTING_PLANS)
# are automatically allowlisted during contract initialization - no manual setup needed!
#
# Usage:
#   ENV=dev forge script script/2_DeployShoTokenL2.s.sol:DeployShoTokenL2 \
#     --rpc-url linea-sepolia --broadcast --verify
#
# The script loads additional configuration from config files:
# - config/dev.json (for dev environment)
# - config/alpha.json (for alpha environment)  
# - config/production.json (for production environment)

# ===========================
# Contract Addresses
# ===========================

# Optional: L1 canonical token address override.
# This is the canonical SHO token that will be bridged to L2
# Set this to the deployed L1 token address
# If not set, defaults to the env-specific config file value (l2.l1Token).
#   If no value is specified in the config file, then it is looked up in the local forge deploy history.
CNS_TOKEN_L1=

# Optional: Linea TokenBridge addresses override
# As per: https://docs.linea.build/get-started/build/contracts
# Sepolia L1: 0x5A0a48389BB0f12E5e017116c1105da97E129142
# Sepolia L2: 0x93DcAdf238932e6e6a85852caC89cBd71798F463
# Mainnet L1: 0x051F1D88f0aF5763fB888eC4378b4D8B29ea3319
# Mainnet L2: 0x353012dc4a9A6cF55c941bADC267f82004A8ceB9
LINEA_L1_BRIDGE=
LINEA_L2_BRIDGE=

# Optional: Deployed proxy contract addresses override
# If not set, defaults to the env-specific config file value (l2.proxy).
#   If no value is specified in the config file, then it is looked up in the local forge deploy history.
CNS_TOKEN_L2_PROXY=

# Optional: Deployed TimelockController contract addresses override
# If not set, defaults to the env-specific config file value (l2.timelock.addr).
#   If no value is specified in the config file, then it is looked up in the local forge deploy history.
CNS_L2_TIMELOCK=

# ===========================
# RPC Endpoints
# ===========================
# Used by foundry.toml network aliases
# Recommend using your own RPC providers for production

# Ethereum
ETH_MAINNET_RPC_URL=https://eth.llamarpc.com
ETH_SEPOLIA_RPC_URL=https://ethereum-sepolia-rpc.publicnode.com

# Linea
LINEA_MAINNET_RPC_URL=https://rpc.linea.build
LINEA_SEPOLIA_RPC_URL=https://rpc.sepolia.linea.build

# ===========================
# Verification API Keys
# ===========================

ETHERSCAN_API_KEY=
LINEA_ETHERSCAN_API_KEY=

# ===========================
# Hedgey Integration (REQUIRED)
# ===========================
# Hedgey contract addresses are loaded from config files (config/dev.json, etc.)
# These addresses are automatically allowlisted during deployment
# 
# Config file structure:
# {
#   "hedgey": {
#     "investorLockup": "0xaA8d13b9c2A9368aa108dde629237EF719eEC14e",
#     "batchPlanner": "0x642581ed679E77e0D9AebFdBCA2a0B4ab194532c",
#     "tokenVestingPlans": "0x23103cc8D394Cd4440711F2d2e436FA46d90EF55",
#     "recipient": "0x057ef20Ed09fc34Da5af791376F4447ba0B8cDE6",
#     "amount": 10000000000000000000,
#     "start": 1759752000,
#     "cliff": 1759838400,
#     "rate": 23148148148148,
#     "period": 1
#   }
# }
#
# The deployment script will:
# 1. Load Hedgey addresses from config files
# 2. Validate they are contracts (code.length > 0)
# 3. Automatically allowlist them during deployment
# 4. Verify allowlisting in post-deployment checks
#
# No environment variables needed - all configured via config files
